angular.module("ngCroppie",[]).directive("ngCroppie",[function(o){return{restrict:"AE",scope:{src:"=",viewport:"=",boundry:"=",type:"@",zoom:"@",mousezoom:"@",update:"=",ngModel:"="},link:function(o,n,r){void 0==o.viewport&&(o.viewport={w:null,h:null}),void 0==o.boundry&&(o.boundry={w:null,h:null}),o.viewport.w=void 0!=o.viewport.w?o.viewport.w:300,o.viewport.h=void 0!=o.viewport.h?o.viewport.h:300,o.boundry.w=void 0!=o.boundry.w?o.boundry.w:400,o.boundry.h=void 0!=o.boundry.h?o.boundry.h:400,o.viewport.w>o.boundry.w&&(o.viewport.w=o.boundry.w),o.viewport.h>o.boundry.h&&(o.viewport.h=o.boundry.h);var e="true"===o.zoom,t="true"===o.mousezoom,i={viewport:{width:o.viewport.w,height:o.viewport.h,type:o.type||"square"},boundary:{width:o.boundry.w,height:o.boundry.h},showZoom:e,mouseWheelZoom:t};void 0!=o.update&&(i.update=o.update);var u=new Croppie(n[0],i),d=window.setInterval(function(){u.result("canvas").then(function(n){o.$apply(function(){o.ngModel=n})})},250);o.$on("$destroy",function(o){clearInterval(d)}),o.$watch("src",function(n,r){void 0!=o.src&&(u.bind(o.src),u.result("canvas").then(function(n){o.$apply(function(){o.ngModel=n})}))})}}}]);
